name: ruby
on:
  push:
    branches: [master]
  schedule:
    # ruby/docker-images: '15 */8 * * *' (00:15, 08:15, 16:15 UTC)
    # To catch the 08:15 UTC build, run from 09:00 UTC: 00:00 PST (UTC-8), 01:00 PDT (UTC-7)
    - cron: '*/10 9 * * *'
  workflow_dispatch:
jobs:
  add:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: '3.4'
      - run: bin/add-ruby.rb
      - run: "bin/git-push.sh 'GitHub Actions: Add ruby'"
